%%
%% This is file `beamercolorthememetropolis.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% beamercolorthememetropolis.dtx  (with options: `package')
%% ---------------------------------------------------------------------------
%% Copyright 2015 Matthias Vogelgesang and the LaTeX community. A full list of
%% contributors can be found at
%% 
%%     https://github.com/matze/mtheme/graphs/contributors
%% 
%% and the original template was based on the HSRM theme by Benjamin Weiss.
%% 
%% This work is licensed under a Creative Commons Attribution-ShareAlike 4.0
%% International License (https://creativecommons.org/licenses/by-sa/4.0/).
%% Edited extensively by Kathryn Morrison, 2016, kt.morrison@mail.mcgill.ca 

%% ---------------------------------------------------------------------------
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamercolorthememetropolis}[2016/02/21 Metropolis color theme]
\RequirePackage{pgfopts}
\pgfkeys{
  /metropolis/color/block/.cd,
    .is choice,
    transparent/.code=\metropolis@block@transparent,
    fill/.code=\metropolis@block@fill,
}
\pgfkeys{
  /metropolis/color/background/.cd,
    .is choice,
    dark/.code=\metropolis@colors@dark,
    light/.code=\metropolis@colors@light,
}
\newcommand{\metropolis@color@setdefaults}{
  \pgfkeys{/metropolis/color/.cd,
    background=light,
    block=transparent,
  } 
}

\definecolor{bannerColour}{HTML}{6CA77C}  %Main color, banner 
\definecolor{textColour}{HTML}{000000} %Main color,  banner background 
\definecolor{compColour}{HTML}{4D7858} % Comp colour 
\definecolor{bulletColour}{HTML}{4D7858} % Comp colour 

\setbeamercolor{itemize item}{fg=bulletColour} % all frames will have red bullets
\setbeamercolor{enumerate item}{fg=bulletColour} % all frames will have red bullets

\newcommand{\metropolis@colors@dark}{ % Dark colours 
  \setbeamercolor{normal text}{%
    fg=textColour,
    bg=red
  }
}

% These are the ones that seem to actually change the text and banner colours 
\newcommand{\metropolis@colors@light}{ % Light colours 
  \setbeamercolor{normal text}{%
    fg=textColour,
    bg=white
  }
}
\setbeamercolor{alerted text}{%
  fg=bulletColour
}
\setbeamercolor{example text}{%
  fg=bulletColour
}

\setbeamercolor{titlelike}{use=normal text, parent=normal text}
\setbeamercolor{author}{use=alerted text, parent=normal text}
\setbeamercolor{date}{use=normal text, parent=normal text}
\setbeamercolor{institute}{use=normal text, parent=normal text}
\setbeamercolor{structure}{use=alerted text, parent=alerted text}


\setbeamercolor{palette primary}{% THE BANNER COLOURS 
  use=normal text,
  fg=normal text.bg,
  bg=bannerColour
}

\setbeamercolor{frametitle}{% THE BANNER 
  use=palette primary,
  parent=palette primary
}

\newcommand{\metropolis@block@transparent}{
  \setbeamercolor{block title}{%
    use=normal text,
    fg=normal text.fg,
    bg=
  }
  
  \setbeamercolor{block body}{
    bg=
  }
}

\newcommand{\metropolis@block@fill}{
  \setbeamercolor{block title}{%
    use=normal text,
    fg=normal text.fg,
    bg=normal text.bg!80!fg
  }
  \setbeamercolor{block body}{
    use={block title, alerted text},
    bg=block title.bg!50!normal text.bg
  }
}
\setbeamercolor{block title alerted}{%
    use={block title, alerted text},
    bg=block title.bg,
    fg=alerted text.fg
}
\setbeamercolor{block title example}{%
    use={block title, example text},
    bg=block title.bg,
    fg=example text.fg
}

\setbeamercolor{title separator}{
  use=alerted text 
}

\setbeamercolor{block body alerted}{use=block body, parent=block body}
\setbeamercolor{block body example}{use=block body, parent=block body}
\setbeamercolor{footnote}{fg=normal text.fg!90}
\setbeamercolor{footnote mark}{fg=.}
\metropolis@color@setdefaults
\ProcessPgfPackageOptions{/metropolis/color}
\mode<all>
\endinput
%%
%% End of file `beamercolorthememetropolis.sty'.
